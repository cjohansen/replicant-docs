<!DOCTYPE html><html data-theme="dark" lang="en" prefix="og: http://ogp.me/ns#"><head><title>Aliases</title><meta name="theme-color" content="#202020"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta property="og:title" content="Aliases"><link href="/a00f586d252b/favicon.ico" rel="icon" type="image/x-icon"><link href="/a00f586d252b/favicon.ico" rel="shortcut icon" type="image/ico"><link href="/a00f586d252b/favicon.ico" rel="shortcut icon" type="image/x-icon"><link href="/a00f586d252b/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon"><link href="/285191ad6a81/apple-touch-icon.png" rel="icon" type="image/png" sizes="180x180"><link rel="stylesheet" href="/bundles/2e8dfb3c3384/styles.css"></head><body><div class="flex justify-between p-4 items-center"><div class="w-8"><a href="/"><svg style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2" viewBox="0 0 1080 1080" xml:space="preserve"><path d="M876.452 152.555c136.818 12.348 195.668 81.688 192.708 196.198h-87.197c1.569-66.295-16.004-119.066-52.748-157.356-14.398-15.003-31.913-27.882-52.763-38.353v-.489Zm98.715 270.164h87.213c-9.48 55.52-38.53 92.323-91.749 108.344 55.789 39.542 76.849 90.867 66.189 152.957l-44.388 184.981h-86.379l42.751-178.151c.149-.622.278-1.249.386-1.879 9.983-58.16-3.188-108.49-41.722-150.197 36.949-23.921 58.758-61.19 67.282-111.131a29.34 29.34 0 0 0 .417-4.924Z" fill="#4fb348"></path><path d="M757.149 152.309c138.837 11.646 198.514 81.149 195.537 196.444h-88.511c1.643-69.4-17.651-123.977-58.046-162.647-13.679-13.096-29.954-24.431-48.98-33.797Zm101.023 270.41h87.726c-9.475 55.52-38.529 92.323-91.745 108.344 55.785 39.542 76.848 90.867 66.191 152.957l-44.391 184.981h-87.689l42.752-178.151c.149-.622.278-1.249.386-1.879 9.983-58.16-3.188-108.49-41.722-150.197 36.948-23.921 58.758-61.19 67.281-111.131.153-.894.263-1.79.332-2.685h.506c.126-.747.25-1.493.373-2.239Z" fill="#00a29a"></path><path d="M76.208 847.157c-36.752-5.562-64.959-37.32-64.959-75.614 0-42.21 34.269-76.478 76.478-76.478a76.45 76.45 0 0 1 20.676 2.832c32.178 9.028 55.802 38.6 55.802 73.646 0 42.209-34.268 76.478-76.478 76.478-3.915 0-7.761-.295-11.519-.864Zm56.524-262.05a77.324 77.324 0 0 1-6.804.299c-42.209 0-76.478-34.268-76.478-76.478 0-42.209 34.269-76.478 76.478-76.478 13.663 0 26.494 3.591 37.6 9.879 23.204 13.139 38.878 38.053 38.878 66.599 0 39.917-30.647 72.732-69.674 76.179Zm-18.148 84.136 11.77-54.569c58.168-.23 105.321-47.525 105.321-105.746 0-35.555-17.586-67.035-44.526-86.209H828.11c-9.475 55.52-38.529 92.323-91.745 108.344 55.784 39.542 76.848 90.867 66.191 152.957l-44.391 184.981H539.756l34.836-151.189c13.135-57.004-4.455-118.062-91.882-118.062H353.796l-71.217 274.677H112.245c46.557-11.07 81.229-52.96 81.229-102.884 0-49.085-33.515-90.403-78.89-102.3Zm-1.803-330.67 117.483-187.485h389.845c152.584 6.696 217.9 77.175 214.789 197.665H178.595v-10.18h-65.814Z" fill="#0086ff"></path></svg></a></div><div class="flex items-center gap-4 text-sm"><a class="hover:underline" href="/learn/">Learn</a><a class="hover:underline" href="https://cljdoc.org/d/no.cjohansen/replicant/">API Reference</a><div class="w-6"><a href="https://clojurians.slack.com/archives/C06JZ4X334N" title="Replicant on the Clojurians Slack"><svg style="display: inline-block; line-height: 1;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><path d="M80,56h24a0,0,0,0,1,0,0v72a24,24,0,0,1-24,24h0a24,24,0,0,1-24-24V80A24,24,0,0,1,80,56Z" transform="translate(184 24) rotate(90)" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path><path d="M128,80H104A24,24,0,0,1,80,56h0a24,24,0,0,1,24-24h0a24,24,0,0,1,24,24Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path><path d="M152,32h24a0,0,0,0,1,0,0v72a24,24,0,0,1-24,24h0a24,24,0,0,1-24-24V56a24,24,0,0,1,24-24Z" transform="translate(304 160) rotate(-180)" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path><path d="M176,128V104a24,24,0,0,1,24-24h0a24,24,0,0,1,24,24h0a24,24,0,0,1-24,24Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path><path d="M176,104h24a0,0,0,0,1,0,0v72a24,24,0,0,1-24,24h0a24,24,0,0,1-24-24V128a24,24,0,0,1,24-24Z" transform="translate(24 328) rotate(-90)" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path><path d="M128,176h24a24,24,0,0,1,24,24h0a24,24,0,0,1-24,24h0a24,24,0,0,1-24-24Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path><path d="M104,128h24a0,0,0,0,1,0,0v72a24,24,0,0,1-24,24h0a24,24,0,0,1-24-24V152a24,24,0,0,1,24-24Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path><path d="M80,128v24a24,24,0,0,1-24,24h0a24,24,0,0,1-24-24h0a24,24,0,0,1,24-24Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"></path></svg></a></div><div class="w-6"><a href="https://github.com/cjohansen/replicant" title="Replicant on Github"><svg viewBox="0 0 24 24"><path fill="currentColor" d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0 1 12 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"></path></svg></a></div></div></div><div class="p-4 bg-base-200 items-center flex flex-row gap-4 sticky top-0 z-10"><button popovertarget="menu"><svg style="display: inline-block; line-height: 1; height: 24; width: 24;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><line stroke="currentColor" fill="none" stroke-linejoin="round" y1="128" stroke-linecap="round" stroke-width="16" x1="40" y2="128" x2="216"></line><line stroke="currentColor" fill="none" stroke-linejoin="round" y1="64" stroke-linecap="round" stroke-width="16" x1="40" y2="64" x2="216"></line><line stroke="currentColor" fill="none" stroke-linejoin="round" y1="192" stroke-linecap="round" stroke-width="16" x1="40" y2="192" x2="216"></line></svg></button><div id="menu" class="bg-base-200 m-0 px-0 absolute h-full" popover="auto"><aside class="basis-60 shrink-0"><h3 class="text-whitish mb-2 ml-4">Guides</h3><nav class="mb-8"><ol><li><a class="menu-item" href="/hiccup/">Hiccup<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/event-handlers/">Event handlers<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/life-cycle-hooks/">Life-cycle hooks<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/keys/">Keys<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/nil/">Explicit nils<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><span class="menu-item menu-item-selected">Aliases<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></span></li></ol></nav><h3 class="text-whitish mb-2 ml-4">Tutorials</h3><nav class="mb-8"><ol><li><a class="menu-item" href="/tutorials/tic-tac-toe/">Tic-Tac-Toe<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/tutorials/routing/">Data-driven routing<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/tutorials/state-atom/">State management with atoms<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/tutorials/state-datascript/">State management with Datascript<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/tutorials/network/">Backend APIs and network<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/tutorials/network-reads/">Data-driven queries<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/tutorials/network-writes/">Data-driven commands<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/tutorials/tic-tac-toe-alias/">Tic-Tac-Toe with aliases<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/tutorials/i18n-alias/">Alias powered i18n<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/tutorials/sortable-table/">A sortable table alias<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li></ol></nav><h3 class="text-whitish mb-2 ml-4">Articles</h3><nav class="mb-8"><ol><li><a class="menu-item" href="/top-down/">Top-down rendering<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li><li><a class="menu-item" href="/learn/">Learn Replicant<svg style="display: inline-block; line-height: 1; height: 16; width: 16;" viewBox="0 0 256 256"><rect width="256" height="256" fill="none"></rect><polyline points="96 48 176 128 96 208" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a></li></ol></nav></aside></div>Guide: Aliases</div><main class="mt-8 mb-16 mx-4 md:mx-0 fullscreen"><h1 class="h1 dark:text-whitish section-md">Aliases</h1><div class="prose mt-4 section-md"><p>Aliases let you define custom hiccup tag names that can be used like any other
tag. When Replicant needs to render an aliased node, it will call on a
function you provide to expand the alias into the desired hiccup.</p>
<p>Aliases must be namespaced keywords. Here’s a quick example:</p>
</div><div class="lg:flex items-stretch rounded-md border border-neutral section-lg my-6 bg-base-100"><pre class="codehilite codehilite"><span class="code-title">Hiccup</span><code class="clj"><span></span><span class="p">[</span><span class="ss">:daisy.ui/button.btn-primary</span>
 <span class="p">{</span><span class="ss">:daisy.ui/loading?</span> <span class="nv">true</span>
  <span class="ss">:on</span> <span class="p">{</span><span class="ss">:click</span> <span class="p">[</span><span class="ss">:browser/alert</span> <span class="s">"Thanks!"</span><span class="p">]}}</span>
 <span class="s">"Click it"</span><span class="p">]</span>
</code></pre><pre class="codehilite bg-base-100 codehilite"><span class="code-title">Resulting HTML</span><code class="html"><span></span><span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">"button"</span>
        <span class="na">aria-busy</span><span class="o">=</span><span class="s">"true"</span>
        <span class="na">tabindex</span><span class="o">=</span><span class="s">"-1"</span>
        <span class="na">class</span><span class="o">=</span><span class="s">"btn btn-primary"</span><span class="p">&gt;</span>
  Click it
<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre></div><div class="prose mt-4 section-md"><p>Like all other hiccup nodes, aliases can have an <a href="/hiccup/#id">id</a> and
<a href="/hiccup/#class">classes</a> on the tag name, can <a href="/hiccup/#lists">nest children</a>
arbitrarily, and can <a href="/hiccup/#attributes">optionally provide an attributes
map</a>.</p>
<p>Aliases can expand to arbitrary hiccup, it doesn’t have to produce a single
node:</p>
</div><div class="lg:flex items-stretch rounded-md border border-neutral section-lg my-6 bg-base-100"><pre class="codehilite codehilite"><span class="code-title">Hiccup</span><code class="clj"><span></span><span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">daisy.ui</span> <span class="ss">:as</span> <span class="nv">ui</span><span class="p">])</span>

<span class="p">[</span><span class="ss">::ui/toast</span> <span class="p">{</span><span class="ss">::ui/type</span> <span class="ss">:info</span><span class="p">}</span>
 <span class="s">"New message arrived"</span><span class="p">]</span>
</code></pre><pre class="codehilite bg-base-100 codehilite"><span class="code-title">Resulting HTML</span><code class="html"><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"toast"</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">"alert alert-info"</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>New message arrived.<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>
  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><div class="prose mt-4 section-md"><p>Aliases can nest, a feature that has some interesting applications that are
further explored in the <a href="/tutorials/sortable-table/">sortable table tutorial</a>.</p>
</div><div class="lg:flex items-stretch rounded-md border border-neutral section-lg my-6 bg-base-100"><pre class="codehilite codehilite"><span class="code-title">Hiccup</span><code class="clj"><span></span><span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">daisy.ui</span> <span class="ss">:as</span> <span class="nv">ui</span><span class="p">])</span>

<span class="p">[</span><span class="ss">::ui/tabs</span>
 <span class="p">[</span><span class="ss">::ui/tab</span> <span class="p">{</span><span class="ss">:href</span> <span class="s">"/#preview"</span><span class="p">}</span>
  <span class="s">"Preview"</span><span class="p">]</span>
 <span class="p">[</span><span class="ss">::ui/tab</span> <span class="p">{</span><span class="ss">::ui/active?</span> <span class="nv">true</span><span class="p">}</span>
  <span class="s">"HTML"</span><span class="p">]</span>
 <span class="p">[</span><span class="ss">::ui/tab</span> <span class="p">{</span><span class="ss">:href</span> <span class="s">"/#hiccup"</span><span class="p">}</span>
  <span class="s">"Hiccup"</span><span class="p">]]</span>
</code></pre><pre class="codehilite bg-base-100 codehilite"><span class="code-title">Resulting HTML</span><code class="html"><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">role</span><span class="o">=</span><span class="s">"tablist"</span> <span class="na">class</span><span class="o">=</span><span class="s">"tabs"</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">a</span> <span class="na">role</span><span class="o">=</span><span class="s">"tab"</span>
     <span class="na">class</span><span class="o">=</span><span class="s">"tab"</span>
     <span class="na">href</span><span class="o">=</span><span class="s">"/#preview"</span><span class="p">&gt;</span>Preview<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">a</span> <span class="na">role</span><span class="o">=</span><span class="s">"tab"</span>
     <span class="na">class</span><span class="o">=</span><span class="s">"tab tab-active"</span><span class="p">&gt;</span>HTML<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">a</span> <span class="na">role</span><span class="o">=</span><span class="s">"tab"</span>
     <span class="na">class</span><span class="o">=</span><span class="s">"tab"</span>
     <span class="na">href</span><span class="o">=</span><span class="s">"/#hiccup"</span><span class="p">&gt;</span>Hiccup<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div><div class="prose mt-4 section-md"><h2 id="defining" class="h2 section-md"><a class="group relative" href="#defining"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Defining aliases</a></h2><p>To use aliases, you must tell Replicant how it should expand them. You have two
options: passing alias definitions when rendering, or globally registering
alias functions.</p>
<p>An alias function always receives two arguments: an attribute map and a
collection of children. The attribute map may be empty. If it contains <code>:class</code>,
it is always a collection. Children are always a flat list of child nodes,
regardless of the nesting in the source hiccup.</p>
</div><div class="lg:flex items-stretch rounded-md border border-neutral section-md my-6 bg-base-100"><pre class="codehilite codehilite"><code class="clj"><span></span><span class="c1">;; Alias</span>
<span class="p">[</span><span class="ss">:ui/bold</span> <span class="s">"My bold"</span><span class="p">]</span>

<span class="c1">;; Attributes argument</span>
<span class="p">{}</span>

<span class="c1">;; Children argument</span>
<span class="o">'</span><span class="p">(</span><span class="s">"My bold"</span><span class="p">)</span>
</code></pre><pre class="codehilite bg-base-100 codehilite"><code class="clj"><span></span><span class="c1">;; Alias</span>
<span class="p">[</span><span class="ss">:ui/btn.btn-primary</span>
  <span class="p">{</span><span class="ss">:class</span> <span class="ss">:btn-round</span><span class="p">}</span>
  <span class="s">"Click"</span> <span class="o">'</span><span class="p">(</span><span class="s">" "</span> <span class="s">"button"</span><span class="p">)]</span>

<span class="c1">;; Attributes argument</span>
<span class="p">{</span><span class="ss">:class</span> <span class="o">#</span><span class="p">{</span><span class="ss">:btn-round</span>
          <span class="s">"btn-primary"</span><span class="p">}}</span>

<span class="c1">;; Children argument</span>
<span class="o">'</span><span class="p">(</span><span class="s">"Click"</span> <span class="s">" "</span> <span class="s">"button"</span><span class="p">)</span>
</code></pre></div><div class="prose mt-4 section-md"><h3 id="passing" class="h3 section-md"><a class="group relative" href="#passing"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Passing alias functions</a></h3><p>Alias functions can be passed to <code>replicant.dom/render</code> and
<code>replicant.string/render</code>.</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="kd">defn </span><span class="nv">render-button-alias</span> <span class="p">[</span><span class="nv">attrs</span> <span class="nv">children</span><span class="p">]</span>
  <span class="p">[</span><span class="ss">:button.btn</span>
   <span class="p">(</span><span class="nf">cond-&gt;</span> <span class="p">(</span><span class="nb">assoc </span><span class="nv">attrs</span> <span class="ss">:type</span> <span class="s">"button"</span><span class="p">)</span>
     <span class="p">(</span><span class="ss">::loading?</span> <span class="nv">attrs</span><span class="p">)</span> <span class="p">(</span><span class="nb">merge </span><span class="ss">:aria-busy</span> <span class="s">"true"</span>
                               <span class="ss">:tabindex</span> <span class="s">"-1"</span><span class="p">))</span>
   <span class="nv">children</span><span class="p">])</span>
</code></pre>
</div><div class="lg:flex items-stretch rounded-md border border-neutral section-lg my-6 bg-base-100"><pre class="codehilite codehilite"><span class="code-title">Update the DOM</span><code class="clj"><span></span><span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">replicant.dom</span> <span class="ss">:as</span> <span class="nv">d</span><span class="p">])</span>

<span class="p">(</span><span class="nf">r/render</span> <span class="p">(</span><span class="nf">js/document.getElementById</span> <span class="s">"app"</span><span class="p">)</span>
  <span class="p">[</span><span class="ss">:ui/btn</span> <span class="s">"Click"</span><span class="p">]</span>
  <span class="p">{</span><span class="ss">:aliases</span> <span class="p">{</span><span class="ss">:ui/btn</span> <span class="nv">render-button-alias</span><span class="p">}})</span>
</code></pre><pre class="codehilite bg-base-100 codehilite"><span class="code-title">Render to a string</span><code class="clj"><span></span><span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">replicant.string</span> <span class="ss">:as</span> <span class="nv">s</span><span class="p">])</span>

<span class="p">(</span><span class="nf">s/render</span>
  <span class="p">[</span><span class="ss">:ui/btn</span> <span class="s">"Click"</span><span class="p">]</span>
  <span class="p">{</span><span class="ss">:aliases</span> <span class="p">{</span><span class="ss">:ui/btn</span> <span class="nv">render-button-alias</span><span class="p">}})</span>
</code></pre></div><div class="prose mt-4 section-md"><p>The map passed as <code>:aliases</code> is a map of alias tag name to alias render
function. If you omit aliases used in your hiccup, Replicant will render an
empty <code>div</code> with data-attributes explaining the problem.</p>
</div><div class="prose mt-4 section-md"><h3 id="defines" class="h3 section-md"><a class="group relative" href="#defines"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Defining alias functions</a></h3><p>Alias functions can be registered globally with <code>replicant.alias/defalias</code>:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="kd">ns </span><span class="nv">daisy.ui</span>
  <span class="p">(</span><span class="ss">:require</span> <span class="p">[</span><span class="nv">replicant.alias</span> <span class="ss">:refer</span> <span class="p">[</span><span class="nv">defalias</span><span class="p">]]))</span>

<span class="p">(</span><span class="nf">defalias</span> <span class="nv">btn</span> <span class="p">[</span><span class="nv">attrs</span> <span class="nv">children</span><span class="p">]</span>
  <span class="p">[</span><span class="ss">:button.btn</span>
   <span class="p">(</span><span class="nf">cond-&gt;</span> <span class="p">(</span><span class="nb">assoc </span><span class="nv">attrs</span> <span class="ss">:type</span> <span class="s">"button"</span><span class="p">)</span>
     <span class="p">(</span><span class="ss">::loading?</span> <span class="nv">attrs</span><span class="p">)</span> <span class="p">(</span><span class="nb">merge </span><span class="ss">:aria-busy</span> <span class="s">"true"</span>
                               <span class="ss">:tabindex</span> <span class="s">"-1"</span><span class="p">))</span>
   <span class="nv">children</span><span class="p">])</span>
</code></pre>
<p>So long as this namespace has been required, the alias will be available
anywhere without passing it explicitly to <code>render</code>. But by what name? <code>defalias</code>
creates aliases with the namespace they’re created in and the name passed to
<code>defalias</code>. So in the above example: <code>:daisy.ui/btn</code>.</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">daisy.ui</span> <span class="ss">:as</span> <span class="nv">ui</span><span class="p">])</span>
<span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">replicant.dom</span> <span class="ss">:as</span> <span class="nv">r</span><span class="p">])</span>

<span class="p">(</span><span class="nf">r/render</span>
  <span class="p">(</span><span class="nf">js/document.getElementById</span> <span class="s">"app"</span><span class="p">)</span>
  <span class="p">[</span><span class="ss">::ui/btn</span> <span class="s">"Click"</span><span class="p">])</span>
</code></pre>
<p><code>defalias</code> also creates a var in the namespace with the provided name, so
<code>daisy.ui/btn</code> will be a var whose value is the alias keyword. That means that
you can also do this:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">daisy.ui</span> <span class="ss">:as</span> <span class="nv">ui</span><span class="p">])</span>
<span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">replicant.dom</span> <span class="ss">:as</span> <span class="nv">r</span><span class="p">])</span>

<span class="p">(</span><span class="nf">r/render</span>
  <span class="p">(</span><span class="nf">js/document.getElementById</span> <span class="s">"app"</span><span class="p">)</span>
  <span class="p">[</span><span class="nv">ui/btn</span> <span class="s">"Click"</span><span class="p">])</span>
</code></pre>
<p>When using vars you’ll also explicitly require aliases, meaning that things like
“go to definition” in LSP will work as expected. The explicit dependency is also
essential for optimizing ClojureScript builds. The only drawback with this
approach is that you can’t tack on class names to the var:
<code>[::ui/btn.btn-primary ,,,]</code> works, but <code>[ui/btn.btn-primary ,,,]</code> does not. You
can still add classes with <code>[ui/btn {:class :btn-primary} ,,,]</code>.</p>
</div><div class="prose mt-4 section-md"><h3 id="registering" class="h3 section-md"><a class="group relative" href="#registering"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Registering alias functions</a></h3><p>If you want to have globally registered alias functions, but want more control
over the alias keyword, you can use <code>replicant.alias/register!</code>:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">replicant.alias</span> <span class="ss">:as</span> <span class="nv">a</span><span class="p">])</span>

<span class="p">(</span><span class="kd">defn </span><span class="nv">render-button-alias</span> <span class="p">[</span><span class="nv">attrs</span> <span class="nv">children</span><span class="p">]</span>
  <span class="p">[</span><span class="ss">:button.btn</span>
   <span class="p">(</span><span class="nf">cond-&gt;</span> <span class="p">(</span><span class="nb">assoc </span><span class="nv">attrs</span> <span class="ss">:type</span> <span class="s">"button"</span><span class="p">)</span>
     <span class="p">(</span><span class="ss">::loading?</span> <span class="nv">attrs</span><span class="p">)</span> <span class="p">(</span><span class="nb">merge </span><span class="ss">:aria-busy</span> <span class="s">"true"</span>
                               <span class="ss">:tabindex</span> <span class="s">"-1"</span><span class="p">))</span>
   <span class="nv">children</span><span class="p">])</span>

<span class="p">(</span><span class="nf">a/register!</span> <span class="ss">:ui/btn</span> <span class="nv">render-button-alias</span><span class="p">)</span>
</code></pre>
</div><div class="prose mt-4 section-md"><h3 id="debuggable-fns" class="h3 section-md"><a class="group relative" href="#debuggable-fns"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Debuggable alias functions</a></h3><p>Alias functions defined with <code>defalias</code> have some additional benefits. During
development, Replicant will keep track of which alias function created a piece
of hiccup, and with what arguments. This information is used to give better
error messages.</p>
<p>These functions may also omit the second argument if it is not used:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="nf">defalias</span> <span class="nv">spinner</span> <span class="p">[</span><span class="nv">attrs</span><span class="p">]</span>
  <span class="p">[</span><span class="ss">:div.spinner</span> <span class="nv">attrs</span><span class="p">])</span>
</code></pre>
<p>You can reap the same benefits without using <code>defalias</code> as well: just define the
function with <code>aliasfn</code>:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">replicant.dom</span> <span class="ss">:as</span> <span class="nv">d</span><span class="p">])</span>
<span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">replicant.alias</span> <span class="ss">:refer</span> <span class="p">[</span><span class="nv">aliasfn</span><span class="p">]])</span>

<span class="p">(</span><span class="k">def </span><span class="nv">render-button-alias</span>
  <span class="p">(</span><span class="nf">aliasfn</span> <span class="p">[</span><span class="nv">attrs</span> <span class="nv">children</span><span class="p">]</span>
    <span class="p">[</span><span class="ss">:button.btn</span>
     <span class="p">(</span><span class="nf">cond-&gt;</span> <span class="p">(</span><span class="nb">assoc </span><span class="nv">attrs</span> <span class="ss">:type</span> <span class="s">"button"</span><span class="p">)</span>
       <span class="p">(</span><span class="ss">::loading?</span> <span class="nv">attrs</span><span class="p">)</span> <span class="p">(</span><span class="nb">merge </span><span class="ss">:aria-busy</span> <span class="s">"true"</span>
                                 <span class="ss">:tabindex</span> <span class="s">"-1"</span><span class="p">))</span>
     <span class="nv">children</span><span class="p">]))</span>

<span class="p">(</span><span class="nf">r/render</span>
 <span class="p">(</span><span class="nf">js/document.getElementById</span> <span class="s">"app"</span><span class="p">)</span>
 <span class="p">[</span><span class="ss">:ui/btn</span> <span class="s">"Click"</span><span class="p">]</span>
 <span class="p">{</span><span class="ss">:aliases</span> <span class="p">{</span><span class="ss">:ui/btn</span> <span class="nv">render-button-alias</span><span class="p">}})</span>
</code></pre>
</div><div class="prose mt-4 section-md"><h2 id="alias-data" class="h2 section-md"><a class="group relative" href="#alias-data"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Alias data</a></h2><p>Aliases sometime benefit from closing over data. However, if you provide an
alias definition to <code>render</code> with something like <code>(partial my-alias my-alias-data)</code>, the alias function will be unique in every render call, which
will cause Replicant to rebuild your entire user interface on every render. Not
ideal.</p>
<p>The better approach is to pass data to <code>:alias-data</code> when you render. This data
will be available on the alias attribute map as <code>:replicant/alias-data</code>.
Replicant will re-render everything whenever <code>:alias-data</code> changes, so use it
sparingly, and only for more or less static data that isn’t globally available,
like routing data, i18n dictionaries, theme definitions, etc.</p>
<p>For a practical example of using <code>:alias-data</code>, see the <a href="/tutorials/i18n-alias/">i18n with aliases
tutorial</a>.</p>
</div><div class="prose mt-4 section-md"><h2 id="attributes" class="h2 section-md"><a class="group relative" href="#attributes"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Attributes vs parameters</a></h2><p>Namespaced keywords in the attribute map are ignored by Replicant when building
DOM nodes. You can use this fact to your advantage when building aliases.</p>
<p>If your alias needs parameters that should not end up as DOM attributes, name
them with namespaced keywords. This way you can pass the attribute map directly
to the node you are creating to allow users of the alias to customize it however
they see fit:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="kd">defn </span><span class="nv">render-button-alias</span> <span class="p">[</span><span class="nv">attrs</span> <span class="nv">children</span><span class="p">]</span>
  <span class="p">[</span><span class="ss">:button.btn</span>
   <span class="p">(</span><span class="nf">cond-&gt;</span> <span class="p">(</span><span class="nb">assoc </span><span class="nv">attrs</span> <span class="ss">:type</span> <span class="s">"button"</span><span class="p">)</span>
     <span class="p">(</span><span class="ss">::loading?</span> <span class="nv">attrs</span><span class="p">)</span> <span class="p">(</span><span class="nb">merge </span><span class="ss">:aria-busy</span> <span class="s">"true"</span>
                               <span class="ss">:tabindex</span> <span class="s">"-1"</span><span class="p">))</span>
   <span class="nv">children</span><span class="p">])</span>
</code></pre>
<p>Now consumers can do things like this, without you predicting every need that
might arise:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">[</span><span class="ss">:daisy.ui.btn-primary</span>
 <span class="p">{</span><span class="ss">:data-my-custom</span> <span class="s">"lol"</span>
  <span class="ss">:daisy.ui/loading?</span> <span class="nv">true</span><span class="p">}</span>
 <span class="s">"Click!"</span><span class="p">]</span>
</code></pre>
<p>Had you not namespaced <code>:daisy.ui/loading?</code>, Replicant would have attempted to
add the DOM attribute <code>loading?</code>, which would have failed horribly.</p>
</div><div class="prose mt-4 section-md"><h2 id="benefits" class="h2 section-md"><a class="group relative" href="#benefits"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Benefits</a></h2><p>This is all well and good, but what are the benefits of using aliases over
functions that return hiccup?</p>
</div><div class="prose mt-4 section-md"><h3 id="late-bound" class="h3 section-md"><a class="group relative" href="#late-bound"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Late bound</a></h3><p>Aliases are not expanded until their attributes or children change. A function
that returns hiccup is typically executed for every render. You can memoize the
function to achieve something of the same effect, but then you have a cache to
manage. Aliases leverage Replicant’s internal representation of the DOM to do
their caching. This characteristic means aliases can improve rendering
performance.</p>
</div><div class="prose mt-4 section-md"><h3 id="top-down" class="h3 section-md"><a class="group relative" href="#top-down"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Top-down versus bottom-up</a></h3><p>Related to the above point, aliases resolve top-down, as opposed to function
calls, which resolve bottom-up. An alias can manipulate its children before
nested aliases expand, whereas with nested function calls, the inner function
calls (e.g. those producing the children) will be called first.</p>
<p>This subtle difference means that aliases can manipulate the attributes or
overall structure of their nested aliases. This idea is further explored in the
<a href="/tutorials/sortable-table/">sortable table tutorial</a>.</p>
</div><div class="prose mt-4 section-md"><h3 id="abstraction-level" class="h3 section-md"><a class="group relative" href="#abstraction-level"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Raising the abstraction level of hiccup</a></h3><p>One disadvantage of writing tests against hiccup is that it contains a lot of
UX/UI details such as class names, inline styles, various accessibility
attributes, etc. These details are all more reliably verified either visually or
with browser tooling, and they are also typically more volatile than the
underlying transformation of your domain data to a user interface.</p>
<p>To demonstrate this point, let’s look at some hiccup from the <a href="/tutorials/tic-tac-toe/">Tic Tac Toe
tutorial</a>:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">[</span><span class="ss">:div.board</span>
 <span class="p">([</span><span class="ss">:div.row</span>
   <span class="p">([</span><span class="ss">:button.cell</span>
     <span class="p">{</span><span class="ss">:on</span> <span class="p">{</span><span class="ss">:click</span> <span class="nv">nil</span><span class="p">}</span>, <span class="ss">:class</span> <span class="p">[</span><span class="s">"cell-dim"</span><span class="p">]}</span>
     <span class="p">[</span><span class="ss">:div.cell-content</span>
      <span class="p">{</span><span class="ss">:replicant/mounting</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"transparent"</span><span class="p">}</span>,
       <span class="ss">:replicant/unmounting</span> <span class="p">{</span><span class="ss">:class</span> <span class="s">"transparent"</span><span class="p">}}</span>
      <span class="p">[</span><span class="ss">:svg</span>
       <span class="p">{</span><span class="ss">:xmlns</span> <span class="s">"http://www.w3.org/2000/svg"</span>, <span class="ss">:viewBox</span> <span class="s">"0 -10 108 100"</span><span class="p">}</span>
       <span class="p">[</span><span class="ss">:path</span>
        <span class="p">{</span><span class="ss">:fill</span> <span class="s">"currentColor"</span>,
         <span class="ss">:d</span> <span class="s">"m1.753 69.19.36-1.08q.35-1.09 1.92-2.97 1.58-1.87 3.85-3.84 ..."</span><span class="p">}]</span>
       <span class="p">[</span><span class="ss">:path</span>
        <span class="p">{</span><span class="ss">:fill</span> <span class="s">"currentColor"</span>,
         <span class="ss">:d</span>
         <span class="s">"m28.099 4.991 2.69 1.97q2.69 1.96 4.5 3.22 1.8 1.28 4.54 3.46 2.74</span>
<span class="s">         ..."</span><span class="p">}]]]]</span>
    ,,,,<span class="p">)]</span>
  ,,,<span class="p">)]</span>
</code></pre>
<p>A few things that would be helpful to test here are:</p>
<ul>
<li>That there are 3 rows with 3 cells</li>
<li>That the cells contain the glyph corresponding to the right player</li>
<li>That the cells not on the winning path are dimmed</li>
</ul>
<p>Some things that are not helpful to hammer down in automated tests are:</p>
<ul>
<li>The level of nesting around the nodes (an artifact of the code that generated
the data) - whether <code>[:div.row ,,,]</code> is a direct child of <code>[:div.board ,,,]</code>,
or in a list makes no difference to the resulting view.</li>
<li><a href="/hiccup/#mounting-unmounting">Mounting and unmounting</a> attributes
Transitions are better demonstrated visually</li>
<li>The exact content of the SVG</li>
</ul>
<p>Some of these can be solved by asking directed questions with something like
<a href="https://github.com/cjohansen/lookup">lookup</a>, instead of writing asserts on the
raw hiccup data. But consider how aliases could have raised the level of
abstraction to tell a more compelling story:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">tic-tac-toe.ui</span> <span class="ss">:as</span> <span class="nv">ui</span><span class="p">])</span>

<span class="p">[</span><span class="ss">::ui/board</span>
 <span class="p">[</span><span class="ss">::ui/row</span>
  <span class="p">[</span><span class="ss">::ui/cell</span> <span class="p">{</span><span class="ss">::ui/dim?</span> <span class="nv">true</span><span class="p">}</span>
   <span class="p">[</span><span class="ss">::ui/icon</span> <span class="ss">:tic-tac-toe.ui.icon/x</span><span class="p">]]</span>
  ,,,<span class="p">]</span>
 ,,,<span class="p">]</span>
</code></pre>
<p>You could test and verify each of these building blocks individually both with
unit tests and with visual tools like
<a href="https://github.com/cjohansen/portfolio">Portfolio</a>. The test for the overall
rendering of the game could then focus on how the game is converted to a user
interface, without all the non-structural details.</p>
<h3>Alias data</h3>
<p><a href="#alias-data">Side-chained data</a> is a powerful mechanism that are only available
to aliases. This can be used to “wire in” more or less static data, and can be
useful as a way to integrate third party libraries that need some level of
global configuration. See the <a href="/tutorials/i18n-alias/">i18n with aliases
tutorial</a> for a practical demonstration.</p>
<h3>Normalized hiccup</h3>
<p>Aliases are normalized just like all other hiccup. This means that you can use
aliases with or without attribute maps, nest the children as much as you want,
and still receive data in a uniform interface.</p>
</div><div class="prose mt-4 section-md"><h2 id="drawbacks" class="h2 section-md"><a class="group relative" href="#drawbacks"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Drawbacks</a></h2><p>Nothing is free, and while there are many benefits to using aliases, there are
some drawbacks as well. The main drawback is indirection, which has some
distinct consequences.</p>
<h3>Debugging</h3>
<p>Because aliases are expanded during rendering, Replicant does not allow them to
throw exceptions. Exceptions during rendering would leave your UI entirely
broken, as it corrupts Replicant’s internal representation – in addition to
abort the rendering of your UI.</p>
<p>For this reason, errors from aliases are softly communicated via development
asserts and as empty <code>div</code>s with some data attributes on them. This can be less
obvious and frustrating to work with.</p>
<p>Future versions of Replicant may add a more in your face error reporting to
Replicant that can alleviate this problem.</p>
<h3>Reduced dead code elimination</h3>
<p>When you use aliases, it is harder for the compiler to do effective
function-level tree-shaking. You are not calling alias functions directly.
Instead, aliases are registered, either with <code>defalias</code> (or
<code>replicant.alias/register!</code>), or manually by passing them in a map to <code>render</code>,
and then indirectly referred by the hiccup. All registered aliases will make it
into your build, even the ones you are not using. From the compilers
perspective, you <em>are</em> using them when you register them.</p>
<p>This means that aliases have namespace-level dead code elimination instead of
function-level dead code elimination. This doesn’t need to be a huge problem.
However, if you have a library of aliases, or use code splitting with modules in
your production build, you should favor more smaller namespaces with alias
definitions over fewer bigger ones.</p>
<p>Using <code>defalias</code> and referring to the vars in your hiccup (e.g.
<code>[ui/btn "Click"]</code>, not <code>[::ui/btn "Click"]</code> ) helps keep relevant
alias definitions in your build, and irrelevant ones out.</p>
</div><div class="prose mt-4 section-md"><h2 id="components" class="h2 section-md"><a class="group relative" href="#components"><span class="absolute -left-4 group-hover:visible invisible">§ </span>Differences from components</a></h2><p>Aliases have a lot in common with “components” as they appear in React and its
peers, but there are some important differences.</p>
<h3>Data vs functions and objects</h3>
<p><a href="https://reagent-project.github.io/">Reagent</a> is one of several React wrappers
for ClojureScript. On the surface, Replicant aliases look <strong>a lot</strong> like
Reagent’s components. Here’s Reagent:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="kd">defn </span><span class="nv">reagent-hello-component</span> <span class="p">[</span><span class="nv">name</span><span class="p">]</span>
  <span class="p">[</span><span class="ss">:p</span> <span class="s">"Hello, "</span> <span class="nb">name </span><span class="s">"!"</span><span class="p">])</span>

<span class="p">(</span><span class="kd">defn </span><span class="nv">reagent-say-hello</span> <span class="p">[]</span>
  <span class="p">[</span><span class="nv">reagent-hello-component</span> <span class="s">"world"</span><span class="p">])</span>

<span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">reagent.dom</span> <span class="ss">:as</span> <span class="nv">rd</span><span class="p">])</span>
<span class="p">(</span><span class="nf">rd/render</span> <span class="p">[</span><span class="nv">reagent-say-hello</span><span class="p">]</span> <span class="nv">js/document.body</span><span class="p">)</span>
</code></pre>
<p>And here’s Replicant:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="nf">defalias</span> <span class="nv">replicant-hello-component</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">name</span><span class="p">]</span>
  <span class="p">[</span><span class="ss">:p</span> <span class="s">"Hello, "</span> <span class="nb">name </span><span class="s">"!"</span><span class="p">])</span>

<span class="p">(</span><span class="kd">defn </span><span class="nv">replicant-say-hello</span> <span class="p">[]</span>
  <span class="p">[</span><span class="nv">replicant-hello-component</span> <span class="s">"world"</span><span class="p">])</span>

<span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">replicant.dom</span> <span class="ss">:as</span> <span class="nv">r</span><span class="p">])</span>
<span class="p">(</span><span class="nf">r/render</span> <span class="p">(</span><span class="nf">replicant-say-hello</span><span class="p">)</span> <span class="nv">js/document.body</span><span class="p">)</span>
</code></pre>
<p>When you use <code>defalias</code>, the usage in <code>reagent-say-hello</code> and
<code>replicant-say-hello</code> looks exactly the same, but don’t be fooled! Replicant’s
aliases are data, while Reagent’s are not.</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="nb">prn </span><span class="p">[</span><span class="nv">reagent-hello-component</span> <span class="s">"world"</span><span class="p">])</span>
<span class="c1">;;=&gt; [#object[myapp$ui$reagent_hello_component] "world"]</span>

<span class="p">(</span><span class="nb">prn </span><span class="p">[</span><span class="nv">replicant-hello-component</span> <span class="s">"world"</span><span class="p">])</span>
<span class="c1">;;=&gt; [:myapp.ui/replicant-hello-component "world"]</span>
</code></pre>
<p>The distinction is clearer without <code>defalias</code>:</p>
<pre class="codehilite"><code class="language-clj"><span></span><span class="p">(</span><span class="kd">defn </span><span class="nv">replicant-hello-component</span> <span class="p">[</span><span class="nv">_</span> <span class="nv">name</span><span class="p">]</span>
  <span class="p">[</span><span class="ss">:p</span> <span class="s">"Hello, "</span> <span class="nb">name </span><span class="s">"!"</span><span class="p">])</span>

<span class="p">(</span><span class="kd">defn </span><span class="nv">replicant-say-hello</span> <span class="p">[]</span>
  <span class="p">[</span><span class="ss">::hello-component</span> <span class="s">"world"</span><span class="p">])</span>

<span class="p">(</span><span class="nf">require</span> <span class="o">'</span><span class="p">[</span><span class="nv">replicant.dom</span> <span class="ss">:as</span> <span class="nv">r</span><span class="p">])</span>

<span class="p">(</span><span class="nf">r/render</span>
 <span class="p">(</span><span class="nf">say-hello</span><span class="p">)</span>
 <span class="nv">js/document.body</span>
 <span class="p">{</span><span class="ss">:aliases</span> <span class="p">{</span><span class="ss">::hello-component</span> <span class="nv">replicant-hello-component</span><span class="p">}})</span>
</code></pre>
<h3>No local state</h3>
<p>Components can have local state, and have their own life-cycle. When state
changes, the component is re-rendered. This means that components can offer
performance benefits at the cost of a more complex data-flow.</p>
<p>Replicant aliases do not have local state or separate life-cycles. The latter
point is important: You could always close over some state (e.g. an atom) in a
function, but there is no way to have Replicant re-render an alias in isolation.
This is by design, as it yields the simplest possible data-flow: top-down.</p>
<p>By virtue of their local state, components are essentially stateful and mutable
objects, while aliases are pure functions.</p>
<h2>When should you use aliases?</h2>
<p>You may not need to use aliases at all – that’s completely fine. Aliases are an
optional feature. You can use Replicant with great success without ever using
aliases.</p>
<p>Having said that, here are some use cases that can benefit from aliases:</p>
<ul>
<li>Implementing design system components (like many of the examples in this
document)</li>
<li>Implementing compound custom elements, see the <a href="/tutorials/sortable-table/">sortable table
tutorial</a></li>
<li>Integrating third party libraries, like i18n, theming, and other cross-cutting
concerns, see the <a href="/tutorials/i18n-alias/">i18n with aliases tutorial</a></li>
<li>Encapsulating the business domain to UI conversion, see the <a href="/tutorials/tic-tac-toe-alias/">Tic-Tac-Toe with
aliases tutorial</a></li>
</ul>
</div></main><script type="text/javascript" src="/bundles/d399b4851ce7/app.js"></script></body></html>